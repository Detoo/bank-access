#!/usr/bin/env python
# Copyright (c) The SimpleFIN Team
# See LICENSE for details.
from twisted.python import usage

from banka.cli import wrap3


class RunOptions(usage.Options):

    synopsis = 'cmd [arg ...]'

    def parseArgs(self, *args):
        self['args'] = args


class Options(usage.Options):

    subCommands = [
        ('run', None, RunOptions, 'Run a process that prompts for sensitive '
                                  'information on fd 3.')
    ]


def main():
    options = Options()
    options.parseOptions()

    if options.subCommand == 'run':
        wrap3(options.subOptions['args'])
    else:
        print options


if __name__ == '__main__':
    main()